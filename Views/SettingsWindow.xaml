<Window x:Class="GhostOverlay.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Settings - Overlay Monitor"
        Width="650"
        Height="550"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize"
        Background="#1e1e1e">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/GhostOverlay;component/Resources/Styles/DarkTheme.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <Grid Margin="25">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,25">
            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                <Border Width="40" Height="40"
                        Background="{StaticResource PrimaryBlueBrush}"
                        CornerRadius="8"
                        Margin="0,0,12,0">
                    <TextBlock Text="⚙"
                               FontSize="24"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"/>
                </Border>
                <StackPanel VerticalAlignment="Center">
                    <TextBlock Text="Settings"
                               Style="{StaticResource HeaderTextStyle}"
                               FontSize="26"/>
                    <TextBlock Text="Configure Overlay Monitor"
                               Style="{StaticResource CaptionTextStyle}"
                               Margin="0,2,0,0"/>
                </StackPanel>
            </StackPanel>
        </StackPanel>

        <!-- Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- General Settings Card -->
                <Border Style="{StaticResource ElevatedCardStyle}"
                        Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="⌨ General Settings"
                                   Style="{StaticResource SubHeaderTextStyle}"
                                   Margin="0,0,0,15"/>

                        <Grid Margin="0,0,0,12">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0"
                                       Text="Hotkey:"
                                       Style="{StaticResource BodyTextStyle}"
                                       VerticalAlignment="Center"/>
                            <Border Grid.Column="1"
                                    Background="{StaticResource DarkSurfaceElevatedBrush}"
                                    CornerRadius="4"
                                    Padding="10,6">
                                <TextBlock Text="Ctrl + Shift + O"
                                           Style="{StaticResource BodyTextStyle}"
                                           FontFamily="Consolas"/>
                            </Border>
                        </Grid>

                        <Grid Margin="0,0,0,12">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0"
                                       Text="Poll Interval:"
                                       Style="{StaticResource BodyTextStyle}"
                                       VerticalAlignment="Center"/>
                            <Border Grid.Column="1"
                                    Background="{StaticResource DarkSurfaceElevatedBrush}"
                                    CornerRadius="4"
                                    Padding="10,6">
                                <TextBlock Text="60 seconds"
                                           Style="{StaticResource BodyTextStyle}"/>
                            </Border>
                        </Grid>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0"
                                       Text="Slow Threshold:"
                                       Style="{StaticResource BodyTextStyle}"
                                       VerticalAlignment="Center"/>
                            <Border Grid.Column="1"
                                    Background="{StaticResource DarkSurfaceElevatedBrush}"
                                    CornerRadius="4"
                                    Padding="10,6">
                                <TextBlock Text="800 ms"
                                           Style="{StaticResource BodyTextStyle}"/>
                            </Border>
                        </Grid>

                        <Border Background="{StaticResource DarkBackgroundBrush}"
                                BorderBrush="{StaticResource DarkBorderBrush}"
                                BorderThickness="1"
                                CornerRadius="4"
                                Padding="12"
                                Margin="0,15,0,0">
                            <StackPanel>
                                <TextBlock Text="ℹ Note"
                                           Style="{StaticResource BodyTextStyle}"
                                           FontWeight="SemiBold"
                                           Margin="0,0,0,4"/>
                                <TextBlock Text="Changing these settings requires editing the configuration file and restarting the application."
                                           Style="{StaticResource CaptionTextStyle}"
                                           TextWrapping="Wrap"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </Border>

                <!-- Endpoints Configuration Card -->
                <Border Style="{StaticResource ElevatedCardStyle}"
                        Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="📊 Monitored Endpoints"
                                   Style="{StaticResource SubHeaderTextStyle}"
                                   Margin="0,0,0,15"/>

                        <TextBlock Text="Configure monitoring targets by editing the configuration file"
                                   Style="{StaticResource BodyTextStyle}"
                                   TextWrapping="Wrap"
                                   Margin="0,0,0,15"/>

                        <Border Background="{StaticResource DarkSurfaceElevatedBrush}"
                                CornerRadius="6"
                                Padding="15">
                            <StackPanel>
                                <TextBlock Text="Configuration File Location"
                                           Style="{StaticResource BodyTextStyle}"
                                           FontWeight="SemiBold"
                                           Margin="0,0,0,8"/>

                                <Border Background="{StaticResource DarkBackgroundBrush}"
                                        BorderBrush="{StaticResource DarkBorderBrush}"
                                        BorderThickness="1"
                                        CornerRadius="4"
                                        Padding="10">
                                    <TextBlock Text="%AppData%\GhostOverlay\appsettings.json"
                                               Style="{StaticResource BodyTextStyle}"
                                               FontFamily="Consolas"
                                               FontSize="12"
                                               TextWrapping="Wrap"/>
                                </Border>

                                <Button Content="📁 Open Config Folder"
                                        Style="{StaticResource ModernButtonStyle}"
                                        Click="OpenConfig_Click"
                                        HorizontalAlignment="Left"
                                        Margin="0,12,0,0"
                                        Padding="15,8"/>
                            </StackPanel>
                        </Border>

                        <Border Background="{StaticResource DarkBackgroundBrush}"
                                BorderBrush="{StaticResource StatusYellowBrush}"
                                BorderThickness="2"
                                CornerRadius="4"
                                Padding="12"
                                Margin="0,15,0,0">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                                    <TextBlock Text="⚠"
                                               Foreground="{StaticResource StatusYellowBrush}"
                                               FontSize="16"
                                               Margin="0,0,6,0"/>
                                    <TextBlock Text="Important"
                                               Style="{StaticResource BodyTextStyle}"
                                               FontWeight="SemiBold"
                                               Foreground="{StaticResource StatusYellowBrush}"/>
                                </StackPanel>
                                <TextBlock Text="After editing the configuration file, restart the application for changes to take effect."
                                           Style="{StaticResource CaptionTextStyle}"
                                           TextWrapping="Wrap"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </Border>

                <!-- About Card -->
                <Border Style="{StaticResource ElevatedCardStyle}">
                    <StackPanel>
                        <TextBlock Text="ℹ About"
                                   Style="{StaticResource SubHeaderTextStyle}"
                                   Margin="0,0,0,12"/>

                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0"
                                       Text="Version:"
                                       Style="{StaticResource BodyTextStyle}"
                                       Margin="0,0,15,0"/>
                            <TextBlock Grid.Column="1"
                                       Text="1.0.0"
                                       Style="{StaticResource BodyTextStyle}"
                                       FontFamily="Consolas"/>
                        </Grid>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0"
                                       Text="Framework:"
                                       Style="{StaticResource BodyTextStyle}"
                                       Margin="0,0,15,0"/>
                            <TextBlock Grid.Column="1"
                                       Text=".NET 8.0 (WPF)"
                                       Style="{StaticResource BodyTextStyle}"
                                       FontFamily="Consolas"/>
                        </Grid>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <!-- Footer Actions -->
        <Border Grid.Row="2"
                BorderBrush="{StaticResource DarkBorderBrush}"
                BorderThickness="0,1,0,0"
                Padding="0,20,0,0"
                Margin="-25,20,-25,-25">
            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Right"
                        Margin="25,0">
                <Button Content="Close"
                        Style="{StaticResource PrimaryButtonStyle}"
                        Click="Close_Click"
                        Padding="30,10"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
